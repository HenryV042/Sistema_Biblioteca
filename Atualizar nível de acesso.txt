Para ajustar o código e implementar o controle de acesso baseado no nível do usuário (bibliotecário ou aluno), você pode seguir as etapas abaixo:

Atualize a tabela de usuários para incluir o tipo de usuário (bibliotecário ou aluno).

Adicione uma coluna tipo à tabela bibliotecario e aluno para identificar o tipo de usuário. Você pode modificar o banco de dados como segue:

sql
Copiar código
-- Adicionar coluna tipo à tabela bibliotecario
ALTER TABLE bibliotecario ADD tipo ENUM('bibliotecario', 'aluno') NOT NULL DEFAULT 'bibliotecario';

-- Adicionar coluna tipo à tabela aluno (opcional, se você quiser uma coluna separada)
ALTER TABLE aluno ADD tipo ENUM('aluno') NOT NULL DEFAULT 'aluno';
Atualize o processo de autenticação para verificar o tipo de usuário.

Modifique o script autenticar.php para buscar o tipo de usuário e redirecionar para a página apropriada com base no tipo de usuário:

php
Copiar código
<?php
session_start();
$usuario = $_POST['usuario'];
$senha = $_POST['senha'];

// Conectar ao banco de dados
require_once('../../dependencies/config.php');

// Preparar a consulta SQL com placeholders
$query = $conn->prepare("SELECT * FROM bibliotecario WHERE usuario = :usuario AND senha = :senha");
$query->bindValue(':usuario', $usuario);
$query->bindValue(':senha', $senha);
$query->execute();
$result = $query->fetch(PDO::FETCH_ASSOC);

if ($result) {
    $_SESSION['usuario'] = $usuario;
    $_SESSION['tipo'] = $result['tipo']; // Salvar o tipo de usuário na sessão

    // Redirecionar com base no tipo de usuário
    if ($result['tipo'] === 'bibliotecario') {
        header("Location: ../bibliotecario/index.php"); // Página para bibliotecários
    } else {
        header("Location: ../aluno/index.php"); // Página para alunos
    }
    exit();
} else {
    echo "Usuário ou senha incorretos.";
}
?>
Proteja as páginas com base no tipo de usuário.

Adicione verificações nas páginas onde o acesso deve ser controlado. Por exemplo, em index.php para bibliotecários e alunos, verifique o tipo de usuário da sessão:

Para a página do bibliotecário (../bibliotecario/index.php):

php
Copiar código
<?php
session_start();

// Verificar se o usuário está autenticado e é um bibliotecário
if (!isset($_SESSION['usuario']) || $_SESSION['tipo'] !== 'bibliotecario') {
    header("Location: ../login.php"); // Redirecionar para a página de login se não estiver autenticado
    exit();
}
?>
Para a página do aluno (../aluno/index.php):

php
Copiar código
<?php
session_start();

// Verificar se o usuário está autenticado e é um aluno
if (!isset($_SESSION['usuario']) || $_SESSION['tipo'] !== 'aluno') {
    header("Location: ../login.php"); // Redirecionar para a página de login se não estiver autenticado
    exit();
}
?>
Atualize os arquivos de configuração das páginas para garantir que os usuários acessem somente as áreas permitidas.

Garanta que todas as rotas e links dentro das páginas sejam atualizados conforme o tipo de usuário para evitar acessos indevidos.

Com essas mudanças, seu sistema estará mais seguro e os acessos serão corretamente diferenciados entre bibliotecários e alunos.
